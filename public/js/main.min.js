(function(){"use strict";const e=document.getElementById("hamburger"),t=document.getElementById("mobil-menue");let s=!1;function p(){s=!0,e.classList.add("offen"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Menü schließen"),t.classList.add("offen"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"}function o(){s=!1,e.classList.remove("offen"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Menü öffnen"),t.classList.remove("offen"),t.setAttribute("aria-hidden","true"),document.body.style.overflow=""}e&&t&&(e.addEventListener("click",()=>s?o():p()),t.querySelectorAll("a").forEach(e=>e.addEventListener("click",o)),window.addEventListener("resize",()=>{window.innerWidth>900&&o()},{passive:!0}),document.addEventListener("keydown",e=>{e.key==="Escape"&&s&&o()}));const l=document.querySelectorAll("section[id], div[id]"),a=document.querySelectorAll('.nav-links a[href^="#"]');if(l.length&&a.length){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&a.forEach(t=>{t.classList.toggle("aktiv",t.getAttribute("href")==="#"+e.target.id)})})},{rootMargin:"-40% 0px -55% 0px"});l.forEach(t=>e.observe(t))}const r=document.getElementById("kopf");if(r){const e=r.querySelector(".nav-leiste"),t=()=>{e&&e.classList.toggle("scrolled",window.scrollY>30)};window.addEventListener("scroll",t,{passive:!0}),t()}const c=document.querySelectorAll(".bruecke-karte, .projekt-karte, .referenz-siegel-bereich, .referenz-zitat-bereich, .tech-gruppe");if(!CSS.supports("animation-timeline","view()")&&"IntersectionObserver"in window&&c.length){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const n=Array.from(t.target.parentElement.children),s=n.indexOf(t.target);t.target.style.transitionDelay=s*75+"ms",t.target.classList.add("sichtbar"),e.unobserve(t.target)}})},{threshold:.08});c.forEach(t=>{t.style.opacity="0",t.style.transform="translateY(18px)",t.style.transition="opacity 0.5s ease, transform 0.5s ease",e.observe(t)})}document.querySelectorAll("a.mail-link").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),window.location.href="mailto:"+e.dataset.u+"@"+e.dataset.d})});const n=document.getElementById("cookie-banner"),d=document.getElementById("cookie-ok"),u="tj_cookie_ok";if(n&&d&&(localStorage.getItem(u)?n.style.display="none":n.classList.remove("versteckt"),d.addEventListener("click",()=>{localStorage.setItem(u,"1"),n.classList.add("versteckt"),setTimeout(()=>{n.style.display="none"},350)})),!window.matchMedia("(prefers-reduced-motion: reduce)").matches){const t=document.documentElement;let e=null;function i(n,s){if(e)return;e=requestAnimationFrame(()=>{t.style.setProperty("--maus-x",n+"px"),t.style.setProperty("--maus-y",s+"px"),e=null})}document.addEventListener("mousemove",e=>i(e.clientX,e.clientY),{passive:!0}),document.addEventListener("touchstart",e=>{const t=e.touches[0];i(t.clientX,t.clientY)},{passive:!0}),document.addEventListener("touchmove",e=>{const t=e.touches[0];i(t.clientX,t.clientY)},{passive:!0}),document.addEventListener("touchend",()=>{e&&(cancelAnimationFrame(e),e=null),t.style.setProperty("--maus-x","-9999px"),t.style.setProperty("--maus-y","-9999px")},{passive:!0})}if(!window.matchMedia("(prefers-reduced-motion: reduce)").matches){const n=60,r=2.8,t=n*2.8,u=window.matchMedia("(hover: none)").matches,s=document.createElement("canvas");s.id="daten-puls",s.setAttribute("aria-hidden","true"),Object.assign(s.style,{position:"fixed",inset:"0",width:"100%",height:"100%",pointerEvents:"none",zIndex:"2"}),document.body.appendChild(s);const e=s.getContext("2d");let i,a;function h(){i=s.width=window.innerWidth,a=s.height=window.innerHeight}h(),window.addEventListener("resize",h,{passive:!0});function m(){return u?1e4+Math.random()*15e3:4e3+Math.random()*7e3}const o=[];let c=performance.now(),l=m();function g(){const e=Math.random()<.5;if(e){const e=(n-window.scrollY%n)%n,r=Math.floor((a-e)/n)+1,c=e+Math.floor(Math.random()*r)*n,s=Math.random()<.5;o.push({horiz:!0,y:c,x:s?-t:i+t,dir:s?1:-1,alpha:0})}else{const s=Math.floor(i/n)+1,r=Math.floor(Math.random()*s)*n,e=Math.random()<.5;o.push({horiz:!1,x:r,y:e?-t:a+t,dir:e?1:-1,alpha:0})}}let d=!document.hidden;document.addEventListener("visibilitychange",()=>{d=!document.hidden});function f(n){if(requestAnimationFrame(f),!d)return;if(n-c>l&&(g(),c=n,l=m()),!o.length)return;e.clearRect(0,0,i,a);for(let c=o.length-1;c>=0;c--){const n=o[c];n.alpha=Math.min(n.alpha+.05,1),e.save(),e.lineWidth=1.5,e.shadowColor="rgba(232,160,32,0.9)",e.shadowBlur=8;let s;if(n.horiz){n.x+=n.dir*r;const o=n.x,i=o-n.dir*t;s=e.createLinearGradient(i,0,o,0),s.addColorStop(0,"rgba(232,160,32,0)"),s.addColorStop(.6,`rgba(232,160,32,${n.alpha*.4})`),s.addColorStop(1,`rgba(255,210,60,${n.alpha})`),e.strokeStyle=s,e.beginPath(),e.moveTo(i,n.y),e.lineTo(o,n.y),e.stroke()}else{n.y+=n.dir*r;const o=n.y,i=o-n.dir*t;s=e.createLinearGradient(0,i,0,o),s.addColorStop(0,"rgba(232,160,32,0)"),s.addColorStop(.6,`rgba(232,160,32,${n.alpha*.4})`),s.addColorStop(1,`rgba(255,210,60,${n.alpha})`),e.strokeStyle=s,e.beginPath(),e.moveTo(n.x,i),e.lineTo(n.x,o),e.stroke()}e.restore();const l=n.horiz?n.dir>0?n.x-t>i:n.x+t<0:n.dir>0?n.y-t>a:n.y+t<0;l&&o.splice(c,1)}}requestAnimationFrame(f)}})()